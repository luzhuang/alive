(window.webpackJsonpAlive=window.webpackJsonpAlive||[]).push([[0],{198:function(e,t,a){var r=a(199),s=a(200),i=a(201),l=a(202),n=a(203),o=a(204),d=a(205);function p(e){return-1!=e.indexOf("deg")?parseFloat(e,10)*(2*Math.PI/360):-1!=e.indexOf("grad")?parseFloat(e,10)*(Math.PI/200):parseFloat(e,10)}e.exports=function(e){var t=e.match(/[A-z3]+\([^\)]+/g)||[],a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return t.forEach(function(e){var t,c=e.split("("),h=c[0],m=c[1];switch(h){case"matrix":t=[(m=m.split(",").map(parseFloat))[0],m[1],0,0,m[2],m[3],0,0,0,0,1,0,m[4],m[5],0,1];break;case"matrix3d":t=m.split(",").map(parseFloat);break;case"translate":case"translate3d":t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],2===(m=m.split(",").map(parseFloat)).length&&m.push(0),o(t,t,m);break;case"translateX":t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],m=[parseFloat(m),0,0],o(t,t,m);break;case"translateY":t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],m=[0,parseFloat(m),0],o(t,t,m);break;case"translateZ":t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],m=[0,0,parseFloat(m)],o(t,t,m);break;case"rotate":case"rotateZ":t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],m=p(m),i(t,t,m);break;case"scale":case"scale3d":t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],2===(m=m.split(",").map(parseFloat)).length&&m.push(1),n(t,t,m);break;case"scaleX":n(t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t,[parseFloat(m),1,1]);break;case"scaleY":n(t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t,[1,parseFloat(m),1]);break;case"scaleZ":n(t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t,[1,1,parseFloat(m)]);break;case"rotateX":t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],m=p(m),r(t,t,m);break;case"rotateY":t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],m=p(m),s(t,t,m);break;case"rotate3d":t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],m=m.split(","),l(t,t,p(m[3]),m.slice(0,3).map(parseFloat));break;case"perspective":t=[1,0,0,0,0,1,0,0,0,0,1,-1/(m=parseFloat(m)),0,0,0,1];break;case"skew":t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],m=m.split(",").map(p),t=[1,Math.tan(m[0]),0,0,Math.tan(m[1]),1,0,0,0,0,1,0,0,0,0,1];break;case"skewX":t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],m=p(m),t=[1,0,0,0,Math.tan(m),1,0,0,0,0,1,0,0,0,0,1];break;case"skewY":t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],m=p(m),t=[1,Math.tan(m),0,0,0,1,0,0,0,0,1,0,0,0,0,1];break;case"none":case"initial":break;default:throw new Error("unsupported transform function: "+h)}t&&d(a,a,t)}),a}},199:function(e,t){e.exports=function(e,t,a){var r=Math.sin(a),s=Math.cos(a),i=t[4],l=t[5],n=t[6],o=t[7],d=t[8],p=t[9],c=t[10],h=t[11];t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);return e[4]=i*s+d*r,e[5]=l*s+p*r,e[6]=n*s+c*r,e[7]=o*s+h*r,e[8]=d*s-i*r,e[9]=p*s-l*r,e[10]=c*s-n*r,e[11]=h*s-o*r,e}},200:function(e,t){e.exports=function(e,t,a){var r=Math.sin(a),s=Math.cos(a),i=t[0],l=t[1],n=t[2],o=t[3],d=t[8],p=t[9],c=t[10],h=t[11];t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);return e[0]=i*s-d*r,e[1]=l*s-p*r,e[2]=n*s-c*r,e[3]=o*s-h*r,e[8]=i*r+d*s,e[9]=l*r+p*s,e[10]=n*r+c*s,e[11]=o*r+h*s,e}},201:function(e,t){e.exports=function(e,t,a){var r=Math.sin(a),s=Math.cos(a),i=t[0],l=t[1],n=t[2],o=t[3],d=t[4],p=t[5],c=t[6],h=t[7];t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);return e[0]=i*s+d*r,e[1]=l*s+p*r,e[2]=n*s+c*r,e[3]=o*s+h*r,e[4]=d*s-i*r,e[5]=p*s-l*r,e[6]=c*s-n*r,e[7]=h*s-o*r,e}},202:function(e,t){e.exports=function(e,t,a,r){var s,i,l,n,o,d,p,c,h,m,u,g,y,f,w,b,x,k,v,$,_,I,F,M,C=r[0],D=r[1],E=r[2],J=Math.sqrt(C*C+D*D+E*E);if(Math.abs(J)<1e-6)return null;C*=J=1/J,D*=J,E*=J,s=Math.sin(a),i=Math.cos(a),l=1-i,n=t[0],o=t[1],d=t[2],p=t[3],c=t[4],h=t[5],m=t[6],u=t[7],g=t[8],y=t[9],f=t[10],w=t[11],b=C*C*l+i,x=D*C*l+E*s,k=E*C*l-D*s,v=C*D*l-E*s,$=D*D*l+i,_=E*D*l+C*s,I=C*E*l+D*s,F=D*E*l-C*s,M=E*E*l+i,e[0]=n*b+c*x+g*k,e[1]=o*b+h*x+y*k,e[2]=d*b+m*x+f*k,e[3]=p*b+u*x+w*k,e[4]=n*v+c*$+g*_,e[5]=o*v+h*$+y*_,e[6]=d*v+m*$+f*_,e[7]=p*v+u*$+w*_,e[8]=n*I+c*F+g*M,e[9]=o*I+h*F+y*M,e[10]=d*I+m*F+f*M,e[11]=p*I+u*F+w*M,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);return e}},203:function(e,t){e.exports=function(e,t,a){var r=a[0],s=a[1],i=a[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*s,e[5]=t[5]*s,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},204:function(e,t){e.exports=function(e,t,a){var r,s,i,l,n,o,d,p,c,h,m,u,g=a[0],y=a[1],f=a[2];t===e?(e[12]=t[0]*g+t[4]*y+t[8]*f+t[12],e[13]=t[1]*g+t[5]*y+t[9]*f+t[13],e[14]=t[2]*g+t[6]*y+t[10]*f+t[14],e[15]=t[3]*g+t[7]*y+t[11]*f+t[15]):(r=t[0],s=t[1],i=t[2],l=t[3],n=t[4],o=t[5],d=t[6],p=t[7],c=t[8],h=t[9],m=t[10],u=t[11],e[0]=r,e[1]=s,e[2]=i,e[3]=l,e[4]=n,e[5]=o,e[6]=d,e[7]=p,e[8]=c,e[9]=h,e[10]=m,e[11]=u,e[12]=r*g+n*y+c*f+t[12],e[13]=s*g+o*y+h*f+t[13],e[14]=i*g+d*y+m*f+t[14],e[15]=l*g+p*y+u*f+t[15]);return e}},205:function(e,t){e.exports=function(e,t,a){var r=t[0],s=t[1],i=t[2],l=t[3],n=t[4],o=t[5],d=t[6],p=t[7],c=t[8],h=t[9],m=t[10],u=t[11],g=t[12],y=t[13],f=t[14],w=t[15],b=a[0],x=a[1],k=a[2],v=a[3];return e[0]=b*r+x*n+k*c+v*g,e[1]=b*s+x*o+k*h+v*y,e[2]=b*i+x*d+k*m+v*f,e[3]=b*l+x*p+k*u+v*w,b=a[4],x=a[5],k=a[6],v=a[7],e[4]=b*r+x*n+k*c+v*g,e[5]=b*s+x*o+k*h+v*y,e[6]=b*i+x*d+k*m+v*f,e[7]=b*l+x*p+k*u+v*w,b=a[8],x=a[9],k=a[10],v=a[11],e[8]=b*r+x*n+k*c+v*g,e[9]=b*s+x*o+k*h+v*y,e[10]=b*i+x*d+k*m+v*f,e[11]=b*l+x*p+k*u+v*w,b=a[12],x=a[13],k=a[14],v=a[15],e[12]=b*r+x*n+k*c+v*g,e[13]=b*s+x*o+k*h+v*y,e[14]=b*i+x*d+k*m+v*f,e[15]=b*l+x*p+k*u+v*w,e}},206:function(e,t,a){"use strict";a.r(t);var r=a(198),s=a.n(r),i=a(23);t.default=class extends i.a{getContainer(e){return super.getContainer(e)}renderStage(e){super.renderStage();let t=this.target;if(!document.querySelectorAll(`.J_alive_stage_${t.id}`).length){let a=t.dom=document.createElement("div");a.className=`J_alive_stage J_alive_stage_${t.id} J_alive_${e}`,a.style.position="relative",a.style.background=t.backgroundColor,a.style.width=`${t.width}px`,a.style.height=`${t.height}px`,a.style.overflow="hidden",a.setAttribute("data-spm","moying"),t.container.appendChild(a)}}removeStage(){super.removeStage();let e=this.target;try{e.dom.remove()}catch(e){}}addChild(e){super.addChild(e),this.target.dom.appendChild(e.dom),e.rect=e._calculateRect()}renderViewer(){super.renderViewer();let e=this.target;if(e.link&&e.link.length){let t=e.dom=document.createElement("a");"blank"==e.linkType&&t.setAttribute("target","_blank"),t.href=e.link,t.className=`J_alive_viewer J_alive_viewer_${e.id}`,e.canPointer="all"}else(e.dom=document.createElement("div")).className=`J_alive_viewer J_alive_viewer_${e.id}`,e.canPointer="none";if(e.backgroundImage&&e.backgroundImage.length){let t=document.createElement("img");~e.backgroundImage.indexOf("gif")&&(~e.backgroundImage.indexOf("?")?e.backgroundImage+="&getAvatar=1":e.backgroundImage+="?getAvatar=1"),t.src=e.backgroundImage,t.style.display="block",t.style.width="100%",t.style.height="100%",e.dom.appendChild(t)}let t=e.dom;e.pivot.x=e.width/2,e.pivot.y=e.height/2,t.style.position="absolute",t.style.left=`${e.x}px`,t.style.top=`${e.y}px`,e.width&&e.height&&(t.style.width=`${e.width}px`,t.style.height=`${e.height}px`),t.style.overflow="hidden",t.style["-webkit-background-size"]="100%",t.style["-webkit-tap-highlight-color"]="transparent",t.style["-webkit-touch-callout"]="none",t.style["-webkit-user-select"]="none",t.style["user-select"]="none",t.style["-webkit-transform-style"]="preserve-3d",t.style["-webkit-perspective"]="1000",t.style["-webkit-backface-visibility"]="hidden",t.style["pointer-events"]="none"}_setTransform(e){let t=`translate3d(${e.x-e.originData.x}px, ${e.y-e.originData.y}px, 0)`,a=`rotate(${e.rotate}deg)`,r=`scale(${e.scaleX}, ${e.scaleY})`;return s()(`${t} ${a} ${r}`)}updateViewer(){super.updateViewer();let e=this.target,t=e.dom,a=this._setTransform(e);t&&(e.width&&e.height&&(t.style.width=`${e.width}px`,t.style.height=`${e.height}px`),e.opacity?t.style["pointer-events"]=e.canPointer:t.style["pointer-events"]="none",t.style.backgroundColor=e.backgroundColor,t.style.opacity=e.opacity,t.style["z-index"]=e.zIndex,t.style["-webkit-transform"]=`matrix3d(${a})`)}removeViewer(){super.removeViewer(),this.target.dom.remove(0)}renderFrames(){super.renderFrames();let e=this.target;if(e.newVersion){let{frames:t,fileList:a}=e.framesData,r=t[e.frameIndex],s=a[r.fileIndex],i=document.createElement("canvas"),l=e.ctx=i.getContext("2d");a=a.map(e=>{let t=new Image;return t.src=e.url,e.imageObj=t,e}),i.width=2*e.width,i.height=2*e.height,i.style.position="absolute",i.style.let="0",i.style.top="0",i.style.width=`${e.width}px`,i.style.height=`${e.height}px`;let n=new Image;n.onload=(()=>{let t=r.rect;l.drawImage(n,t[0],t[1],t[2],t[3],0,0,2*e.width,2*e.height)}),n.src=s.url,e.fileIndex=0,e._imageDom=i,e.dom.appendChild(e._imageDom)}else{if(!e.image)return;let t=e._imageDom=document.createElement("img");if(t.style.position="absolute",t.style.let="0",t.style.top="0",t.src=e.image,"horizontal"===e.frameDirect){let a=e.width*e.frameNum;t.style["max-width"]="none",t.style.width=`${a}px`,t.style.height="100%"}else{let a=e.height*e.frameNum;t.style.width="100%",t.style.height=`${a}px`}t.style["transform-style"]="preserve-3d",t.style["-webkit-perspective"]="1000",t.style["pointer-events"]="none",t.style["-webkit-backface-visibility"]="hidden",e.dom.appendChild(t)}}updateFrames(){super.updateFrames();let e=this.target;if(e.newVersion){const{frames:t,fileList:a}=e.framesData;let r=t[e.frameIndex],s=a[r.fileIndex];e.fileIndex!=r.fileIndex&&(e.fileIndex=r.fileIndex);let i=s.imageObj,l=r.rect;e.ctx.clearRect(0,0,2*e.width,2*e.height),e.ctx.drawImage(i,l[0],l[1],l[2],l[3],0,0,2*e.width,2*e.height)}else if("horizontal"===e.frameDirect){let t=-e.width*e.frameIndex;e._imageDom.style["-webkit-transform"]=`translate3d(${t}px, 0, 0)`}else{let t=-e.height*e.frameIndex;e._imageDom.style["-webkit-transform"]=`translate3d(0, ${t}px, 0)`}}renderText(){super.renderText();let e=this.target,t=document.createElement("span"),a=["fontSize"];e.dom.style.width="auto",e.dom.style.height="auto",t.style["white-space"]="nowrap",t.innerHTML=e.content;for(let r in e.style)~a.indexOf(r)?t.style[r]=`${e.style[r]}px`:t.style[r]=e.style[r];e.dom.appendChild(t)}renderGroup(){super.renderGroup();let e=this.target,t=e.dom=document.createElement("div");t.className="layer",t.style.position="absolute",t.style.left=`${e.x}px`,t.style.top=`${e.y}px`,t.style.width="100%",t.style.height="100%",t.style["pointer-events"]="none",t.style["-webkit-transform-style"]="preserve-3d",t.style["-webkit-perspective"]="1000",t.style["-webkit-backface-visibility"]="hidden",t.style["z-index"]=e.zIndex,t.setAttribute("data-depth",e.depth)}updateGroup(){let e=this.target,t=e.rect,a=e.dom,r=(t.left+t.right)/2,s=(t.top+t.bottom)/2;a.style["-webkit-transform-origin"]=`${r}px ${s}px`}getRect(){let e=this.target,t=getComputedStyle(e.dom),a={},r=parseFloat(t.left),s=parseFloat(t.top),i=parseFloat(t.width),l=parseFloat(t.height);return i&&l?(a.left=r,a.top=s,a.right=r+i,a.bottom=s+l,a):{}}}}}]);